= Deployment Models
:compat-mode!:
// Metadata:
:description: Overview of deployment models for SonataFlow workflows
:keywords: sonataflow, workflow, serverless, operator, kubernetes, gitops, devmode, preview

This document introduces the three deployment profiles supported by the {product_name} Operator, each tailored for specific use cases and operational scenarios in Kubernetes environments.

== GitOps Profile

The GitOps profile provides maximum flexibility and control over workflow deployments, suitable for production environments. In this model, container images are built externally via your own CI/CD pipelines. The {product_name} Operator deploys workflows using these externally built container images referenced in the SonataFlow Custom Resource. This profile is ideal for environments where compliance, auditing, and advanced security requirements are critical.

xref:cloud/operator/gitops-profile.adoc[Read more about the GitOps Profile].

== Preview Profile

The Preview profile automates building and deploying workflow container images. The {product_name} Operator handles the full build lifecycle internally, enabling quick deployments and iterative testing in environments closely resembling production without manually managing container images. This profile is beneficial for final pre-production validation and demonstrations.

xref:cloud/operator/build-and-deploy-workflows.adoc[Read more about the Preview Profile].

== Development Profile

The Development profile offers rapid iteration and live reloading capabilities tailored for workflow development. It simplifies the workflow application lifecycle by dynamically building and deploying workflow changes as they occur, enabling quick feedback loops during development. This profile supports custom development images for extending base functionalities.

xref:cloud/operator/developing-workflows.adoc[Read more about the Development Profile].

== Choosing the Right Profile

Select a deployment profile based on your specific needs:

* **GitOps** for controlled, production-ready deployments integrated into your own CI/CD.
* **Preview** for automated image builds suitable for staging or demo environments.
* **Development** for rapid iteration and dynamic testing during workflow development.

== Switching Between Profiles

To change between profiles, you must set the SonataFlow custom resource annotation:

[source,yaml]
----
apiVersion: sonataflow.org/v1alpha08
kind: SonataFlow
metadata:
    annotations:
        org.sonataflow/profile: 
----

Valid values for <profile> are dev, gitops, or preview.

include::../../../pages/_common-content/report-issue.adoc[]

